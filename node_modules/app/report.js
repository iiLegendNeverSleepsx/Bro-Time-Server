module.exports = function log(err, kwargs, cb) {
	if (!cb && typeof kwargs === "function") {
		cb = kwargs;
		kwargs = {};
	} else {
		kwargs = kwargs || {};
	}

	if (!(err instanceof Error)) {
		// This handles when someone does:
		//	throw "something awesome";
		// We synthesize an Error here so we can extract a (rough) stack trace.
		err = new Error(err);
	}

	console.warn(err, kwargs);
	if (cb != null)
		cb();
};
